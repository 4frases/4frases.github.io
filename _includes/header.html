<header class="header">
    <div class="header-container">
        <div class="logo">
            <h1 class="milogo"><a href="/" class="nav-link" data-page="/">
                <span>4</span>FRASES
            </a></h1>
            <p class="tagline">Rock, Rap, Trap, Pop & más</p>
        </div>
        <nav class="nav">
            <ul>
                <li><a href="/" class="nav-link" data-page="/">Inicio</a></li>
                <li><a href="/pages/musica.html" class="nav-link" data-page="/pages/musica.html">Música</a></li>
                <li><a href="/pages/letras.html" class="nav-link" data-page="/pages/letras.html">Letras</a></li>
                <li><a href="/pages/videos.html" class="nav-link" data-page="/pages/videos.html">Vídeos</a></li>
                <li><a href="/pages/contacto.html" class="nav-link" data-page="/pages/contacto.html">Contacto</a></li>
            </ul>
        </nav>
    </div>
</header>



<script>
    function loadPage(url) {
        const pageContent = document.getElementById('page-content');
        
        // Fade out
        pageContent.style.opacity = '0';
        pageContent.style.transition = 'opacity 0.3s ease';
        
        setTimeout(() => {
            fetch(url)
                .then(response => response.text())
                .then(html => {
                    // Extraer solo el contenido dentro de <main>
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = html;
                    const mainContent = tempDiv.querySelector('main');
                    
                    if (mainContent) {
                        pageContent.innerHTML = mainContent.innerHTML;
                    } else {
                        pageContent.innerHTML = html;
                    }
                    
                    pageContent.style.opacity = '1';
                    
                    // Ejecutar scripts
                    const scripts = pageContent.querySelectorAll('script');
                    scripts.forEach(script => {
                        const newScript = document.createElement('script');
                        newScript.textContent = script.textContent;
                        pageContent.appendChild(newScript);
                    });
                    
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                })
                .catch(error => {
                    console.error('Error:', error);
                    pageContent.innerHTML = '<p>Error cargando la página</p>';
                    pageContent.style.opacity = '1';
                });
        }, 300);
    }
    
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const page = link.getAttribute('data-page');
            window.history.pushState({ page }, '', page);
            loadPage(page);
        });
    });
    
    window.addEventListener('popstate', (e) => {
        if (e.state && e.state.page) {
            loadPage(e.state.page);
        }
    });
    
    document.addEventListener('DOMContentLoaded', function() {
        loadPage('/');
    });
</script>